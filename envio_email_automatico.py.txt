import smtplib
import schedule
import time
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

# üëá SEU EMAIL E SENHA DE APP
remetente = "elvys.pascoal5@gmail.com"
senha = ""  # coloque sua senha de app aqui na hora de rodar, n√£o suba no GitHub
destinatario = "elvys.pascoal5@gmail.com"

def enviar_email():
    msg = MIMEMultipart()
    msg['From'] = remetente
    msg['To'] = destinatario
    msg['Subject'] = "üìß Envio autom√°tico a cada 5 minutos"
    corpo = "Este √© um email autom√°tico enviado pelo Python a cada 5 minutos."
    msg.attach(MIMEText(corpo, 'plain', 'utf-8'))

    try:
        server = smtplib.SMTP('smtp.gmail.com', 587)
        server.starttls()
        server.login(remetente, senha)
        server.sendmail(remetente, destinatario, msg.as_string())
        server.quit()
        print("‚úÖ Email enviado com sucesso!")
    except Exception as e:
        print("‚ùå Erro ao enviar email:", e)

# Agendamento a cada 5 minutos
schedule.every(5).minutes.do(enviar_email)

print("‚è≥ Aguardando execu√ß√£o (Ctrl+C para parar)...")
while True:
    schedule.run_pending()
    time.sleep(10)
